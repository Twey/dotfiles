{ pkgs, ... }:
{
  imports = [ ../modules/base.nix ];
  programs.git.signing.key = "3A09EBE4C6E407013959FA597A64D63957DEE896";
  home.stateVersion = "20.09";

  home.packages = with pkgs; [ slack ];

  programs.autorandr = {
    enable = true;
    profiles.office = {
      fingerprint = {
        DP-3 = "00ffffffffffff0005e37027ad2a0100131c0103803c22782ab205a3564f9e280f5054bfef00d1c0b30095008180814081c001010101023a801871382d40582c450056502100001e000000fd00324c1e5311000a202020202020000000fc00323737300a2020202020202020000000ff004747484a35484130373634363101ab02031ef14b101f041303120211010514230907078301000065030c0010008c0ad08a20e02d10103e9600565021000018011d007251d01e206e28550056502100001e8c0ad08a20e02d10103e96005650210000188c0ad090204031200c4055005650210000180000000000000000000000000000000000000000000000000011";
        eDP-1 = "00ffffffffffff004d109a1400000000041c0104a52213780ede50a3544c99260f505400000001010101010101010101010101010101ac3780a070383e403020350058c210000018000000000000000000000000000000000000000000fe00544b365237804c513135364d31000000000002410328001200000a010a2020002b";
      };
      config = {
        DP-3 = {
          enable = true;
          primary = false;
          crtc = 1;
          mode = "1920x1080";
          position = "0x0";
          rate = "60.00";
        };
        eDP-1 = {
          enable = true;
          crtc = 0;
          mode = "1920x1080";
          position = "0x1080";
          rate = "60.00";
        };
      };
    };
    profiles.long = {
      fingerprint = {
        DP-1 = "00ffffffffffff001e6d0677a1b10200051e0103803c2278ea3e31ae5047ac270c50542108007140818081c0a9c0d1c081000101010108e80030f2705a80b0588a0058542100001e04740030f2705a80b0588a0058542100001a000000fd00383d1e873c000a202020202020000000fc004c472048445220344b0a202020018702033b714d9022201f1203040161605d5e5f230907076d030c001000b83c20006001020367d85dc401788003e30f0003e305c000e6060501605550023a801871382d40582c450058542100001e565e00a0a0a029503020350058542100001a000000ff003030354e54574735363534350a0000000000000000000000000000ee";
        eDP-1 = "00ffffffffffff004d109a1400000000041c0104a52213780ede50a3544c99260f505400000001010101010101010101010101010101ac3780a070383e403020350058c210000018000000000000000000000000000000000000000000fe00544b365237804c513135364d31000000000002410328001200000a010a2020002b";
      };
      config = {
        DP-1 = {
          enable = true;
          primary = true;
          crtc = 1;
          mode = "3840x2160";
          position = "0x0";
          rate = "60.00";
        };
        eDP-1 = {
          enable = true;
          crtc = 0;
          mode = "1920x1080";
          position = "3840x1080";
          rate = "60.00";
        };
      };
    };
    profiles.tall = {
      fingerprint = {
        DP-1 = "00ffffffffffff001e6d0677a1b10200051e0103803c2278ea3e31ae5047ac270c50542108007140818081c0a9c0d1c081000101010108e80030f2705a80b0588a0058542100001e04740030f2705a80b0588a0058542100001a000000fd00383d1e873c000a202020202020000000fc004c472048445220344b0a202020018702033b714d9022201f1203040161605d5e5f230907076d030c001000b83c20006001020367d85dc401788003e30f0003e305c000e6060501605550023a801871382d40582c450058542100001e565e00a0a0a029503020350058542100001a000000ff003030354e54574735363534350a0000000000000000000000000000ee";
        eDP-1 = "00ffffffffffff004d109a1400000000041c0104a52213780ede50a3544c99260f505400000001010101010101010101010101010101ac3780a070383e403020350058c210000018000000000000000000000000000000000000000000fe00544b365237804c513135364d31000000000002410328001200000a010a2020002b";
      };
      config = {
        DP-1 = {
          enable = true;
          primary = true;
          crtc = 1;
          mode = "3840x2160";
          position = "0x0";
          rate = "60.00";
          rotate = "right";
        };
        eDP-1 = {
          enable = true;
          crtc = 0;
          mode = "1920x1080";
          position = "2160x1920";
          rate = "60.00";
        };
      };
    };
    hooks.postswitch.background = ''
      systemctl --user restart random-background.service
    '';
    hooks.postswitch.audio = ''
      # pactl set-card-profile alsa_card.pci-0000_00_1f.3 output:hdmi-stereo+input:analog-stereo
      pactl set-card-profile alsa_card.pci-0000_00_1f.3 off
      xmonad --restart
    '';
  };
}
